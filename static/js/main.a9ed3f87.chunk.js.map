{"version":3,"sources":["User.js","Comment.js","CommentList.js","highlight.js","Post.js","PostList.js","api/comments.js","api/users.js","api/posts.js","App.js","index.js"],"names":["User","_ref","_ref$userObj","userObj","name","email","address","react_default","a","createElement","concat","street","suite","city","Comment","_ref$comment","comment","body","id","className","CommentList","comments","map","currentComment","src_Comment","key","getHighlightedText","text","highlight","split","RegExp","part","i","toLowerCase","Post","_ref$post","post","user","title","commentList","highlightedPart","src_User","src_CommentList","PostList","posts","currentPost","src_Post","getCommentsFromServer","regenerator_default","async","_context","prev","next","awrap","fetch","sent","abrupt","json","stop","getUsersFromServer","users","getPostsFromServer","App","_useState","useState","_useState2","Object","slicedToArray","savePosts","_useState3","_useState4","isLoading","setLoading","_useState5","_useState6","isInitialized","setInit","_useState7","_useState8","loadingError","setLoadingError","_useState9","_useState10","inputValue","setInputValue","visiblePosts","filter","input","includes","Fragment","type","placeholder","onChange","event","target","value","replace","src_PostList","onClick","usersFromServer","postsFromServer","commentsFromServer","preparedPosts","find","person","userId","postId","objectSpread2","t0","disabled","ReactDOM","render","src_App_0","document","getElementById"],"mappings":"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","file":"static/js/main.a9ed3f87.chunk.js","sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\n\nconst User = ({ userObj: { name, email, address } }) => (\n  <p>\n    {`By ${name}`}\n    <br />\n    {email}\n    <br />\n    {`${address.street}, ${address.suite}, ${address.city}`}\n  </p>\n);\n\nUser.propTypes = {\n  userObj: PropTypes.shape({\n    name: PropTypes.string.isRequired,\n    email: PropTypes.string.isRequired,\n    address: PropTypes.shape({\n      street: PropTypes.string.isRequired,\n      suite: PropTypes.string.isRequired,\n      city: PropTypes.string.isRequired,\n    }).isRequired,\n  }).isRequired,\n};\n\nexport default User;\n","import PropTypes from 'prop-types';\nimport React from 'react';\n\nconst Comment = ({ comment: { name, body, email, id } }) => (\n  <div className=\"comment\">\n    <dt>\n      {`Comment ${id}: ${body}`}\n    </dt>\n    <dd className=\"description\">\n      {`Name: ${name}`}\n      <br />\n      {`Email: ${email}`}\n    </dd>\n  </div>\n);\n\nComment.propTypes = {\n  comment: PropTypes.shape({\n    name: PropTypes.string.isRequired,\n    body: PropTypes.string.isRequired,\n    email: PropTypes.string.isRequired,\n    id: PropTypes.number.isRequired,\n  }).isRequired,\n};\n\nexport default Comment;\n","import PropTypes from 'prop-types';\nimport React from 'react';\nimport Comment from './Comment';\n\nconst CommentList = ({ comments }) => (\n  <dl>\n    {comments.map(currentComment => (\n      <Comment\n        comment={currentComment}\n        key={currentComment.id}\n      />\n    ))}\n  </dl>\n);\n\nCommentList.propTypes = {\n  comments: PropTypes\n    .arrayOf(PropTypes.shape({ id: PropTypes.number.isRequired })).isRequired,\n};\n\nexport default CommentList;\n","import React from 'react';\n\nexport const getHighlightedText = (text, highlight) => {\n  const parts = (text || '').split(new RegExp(`(${highlight})`, 'gi'));\n\n  return parts.map((part, i) => (\n    <span key={`${part + i}`}>\n      {part.toLowerCase() === highlight.toLowerCase()\n        ? <span className=\"highlighted\">{part}</span> : part}\n    </span>\n  ));\n};\n","import PropTypes from 'prop-types';\nimport React from 'react';\nimport User from './User';\nimport CommentList from './CommentList';\nimport { getHighlightedText } from './highlight';\n\nconst Post\n  = ({ post: { id, user, title, body, commentList }, highlightedPart }) => (\n    <div className=\"post\">\n      <dt className=\"title\">\n        {`Post ${id}: `}\n        {getHighlightedText(title, highlightedPart)}\n      </dt>\n      <dd className=\"description\">\n        <span className=\"post-body\">\n          {getHighlightedText(body, highlightedPart)}\n        </span>\n        <br />\n        <span className=\"user-info\">\n          <User userObj={user} />\n        </span>\n        <CommentList\n          comments={commentList}\n        />\n      </dd>\n    </div>\n  );\n\nPost.propTypes = {\n  post: PropTypes.shape({\n    id: PropTypes.number.isRequired,\n    title: PropTypes.string.isRequired,\n    body: PropTypes.string.isRequired,\n    user: PropTypes.shape({}).isRequired,\n    commentList: PropTypes.arrayOf(PropTypes.object.isRequired).isRequired,\n  }).isRequired,\n  highlightedPart: PropTypes.string.isRequired,\n};\n\nexport default Post;\n","import PropTypes from 'prop-types';\nimport React from 'react';\nimport Post from './Post';\n\nconst PostList = ({ posts, highlight }) => (\n  <dl>\n    {posts.map(currentPost => (\n      <Post\n        post={currentPost}\n        key={currentPost.id}\n        highlightedPart={highlight}\n      />\n    ))}\n  </dl>\n);\n\nPostList.propTypes = {\n  posts: PropTypes.arrayOf(PropTypes.shape({\n    id: PropTypes.number.isRequired,\n  })).isRequired,\n  highlight: PropTypes.string.isRequired,\n};\n\nexport default PostList;\n","const URL_COMMENTS = 'https://jsonplaceholder.typicode.com/comments';\n\nexport const getCommentsFromServer = async() => {\n  const comments = await fetch(URL_COMMENTS);\n\n  return comments.json();\n};\n","const URL_USERS = 'https://jsonplaceholder.typicode.com/users';\n\nexport const getUsersFromServer = async() => {\n  const users = await fetch(URL_USERS);\n\n  return users.json();\n};\n","const URL_POSTS = 'https://jsonplaceholder.typicode.com/posts';\n\nexport const getPostsFromServer = async() => {\n  const posts = await fetch(URL_POSTS);\n\n  return posts.json();\n};\n","import React, { useState } from 'react';\nimport PostList from './PostList';\nimport './App.scss';\nimport { getCommentsFromServer } from './api/comments';\nimport { getUsersFromServer } from './api/users';\nimport { getPostsFromServer } from './api/posts';\n\nconst App = () => {\n  const [posts, savePosts] = useState([]);\n  const [isLoading, setLoading] = useState(false);\n  const [isInitialized, setInit] = useState(false);\n  const [loadingError, setLoadingError] = useState(false);\n  const [inputValue, setInputValue] = useState('');\n\n  const loadList = async() => {\n    setLoading(true);\n\n    try {\n      const usersFromServer = await getUsersFromServer();\n      const postsFromServer = await getPostsFromServer();\n      const commentsFromServer = await getCommentsFromServer();\n\n      const preparedPosts = postsFromServer.map((post) => {\n        const user = usersFromServer.find(person => person.id === post.userId);\n        const commentList = commentsFromServer\n          .filter(comment => comment.postId === post.id);\n\n        return {\n          ...post, user, commentList,\n        };\n      });\n\n      savePosts(preparedPosts);\n      setInit(true);\n    } catch {\n      setLoading(false);\n      setLoadingError(true);\n    }\n  };\n\n  const inputHandler = event => (\n    setInputValue(event.target.value.replace(/^\\s+/, ''))\n  );\n\n  const visiblePosts = posts\n    .filter(({ title, body }) => {\n      const input = inputValue.toLowerCase();\n\n      return title.toLowerCase().includes(input)\n        || body.toLowerCase().includes(input);\n    });\n\n  if (loadingError) {\n    return <p className=\"error-message\">Oops, something went wrong!</p>;\n  }\n\n  return (\n    <div className=\"App\">\n      {!isInitialized ? (\n        <>\n          <button\n            className=\"button\"\n            type=\"button\"\n            onClick={loadList}\n            disabled={isLoading}\n          >\n            {isLoading ? 'Loading...' : 'Load'}\n          </button>\n        </>\n      )\n        : (\n          <>\n            <div className=\"top\">\n              <h1 className=\"table__heading\">Dynamic list of posts</h1>\n              <input\n                type=\"text\"\n                className=\"search-bar\"\n                placeholder=\"Search...\"\n                onChange={inputHandler}\n                value={inputValue}\n              />\n            </div>\n            <PostList posts={visiblePosts} highlight={inputValue} />\n          </>\n        )\n      }\n    </div>\n  );\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}